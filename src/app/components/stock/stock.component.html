<div class="container">
	<h1 class="text large">Stock Search</h1>
	<br>
  <div class="content" [ngClass]="user ? 'content-user' : 'content'">
    <form class="form-inline">
      <div class="form-group">
        <input type="search"
               class="form-control"
               placeholder="Enter stock code"
               #search>
               <br>
      <button type="button" class="btn btn-primary ml-2" (click)="getStock(search.value)">Search</button>
      <button *ngIf="user" type="button" class="btn btn-success ml-2" (click)="saveStock(search.value)"> Add to Portfolio</button>
      </div>
    </form>
  </div>
</div>
<br>
<br>


<div *ngIf="currentStock" class="container">
	<div class="row">
		<div class="col-md-12">
			<h1 class="text">
				{{ stock.companyName }} is currently priced at {{'$' + stock.latestPrice}}
			</h1>
		</div>
	</div>
	<div class="row">
	  	<div class="col-md-12">
			<h1 class="text">
			  This represents a change of:
			</h1>
		</div>
	</div>
	<div class="row">
	  	<div class="col-md-12">
			<h2 class="text">
        {{ 100 / (stockHistory.day / (stock.latestPrice - stockHistory.day))| number: '1.2-2'}}% today.
			</h2>
		</div>
	</div>
	<div class="row">
	  	<div class="col-md-12">
			<h2 class="text">
        {{ 100 / (stockHistory.week / (stock.latestPrice - stockHistory.week))| number: '1.2-2'}}% in the past week.
			</h2>
		</div>
	</div>
  <div class="row">
    <div class="col-md-12">
      <h2 class="text">
        {{ 100 / (stockHistory.month / (stock.latestPrice - stockHistory.month))| number: '1.2-2'}}% in the past month.
      </h2>
    </div>
  </div>
		<div class="row">
	  	<div class="col-md-12">
			<h2 class="text">
        {{ 100 / (stockHistory.year / (stock.latestPrice - stockHistory.year))| number: '1.2-2'}}% in the past year.
			</h2>
		</div>
	</div>
</div>

